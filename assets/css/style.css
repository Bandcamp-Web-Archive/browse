/* ============================================================
 *  BANDCAMP ARCHIVE — style.css
 *  ============================================================ */

:root {
    --bg:      #0a0a0b;
    --bg2:     #111113;
    --bg3:     #18181c;
    --border:  #2a2a30;
    --border2: #3a3a44;
    --text:    #d4d4dc;
    --text2:   #888890;
    --text3:   #555560;
    --accent:  #5de4c7;
    --accent2: #1a4a40;
    --accent3: #0d2a25;
    --red:     #e75;
    --yellow:  #d4a843;
    --free:    #3dc47a;
    --nyp:     #5de4c7;
    --paid:    #d4a843;
    --mono:    'IBM Plex Mono', monospace;
    --display: 'Space Mono', monospace;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
}

body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--mono);
    font-size: 13px;
    line-height: 1.6;
    min-height: 100vh;
    overflow-x: hidden;
}

/* Subtle noise texture overlay */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 1000;
    opacity: 0.4;
}

/* ---- SCROLLBAR ---- */
::-webkit-scrollbar          { width: 4px; height: 4px; }
::-webkit-scrollbar-track    { background: var(--bg); }
::-webkit-scrollbar-thumb    { background: var(--border2); border-radius: 2px; }
::-webkit-scrollbar-thumb:hover { background: var(--text3); }


/* ================================================================
 *  HEADER
 *  ================================================================ */

#header {
border-bottom: 1px solid var(--border);
background: var(--bg);
position: sticky;
top: 0;
z-index: 100;
backdrop-filter: blur(12px);
}

.header-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 20px;
    gap: 16px;
    flex-wrap: wrap;
}

.logo {
    font-family: var(--display);
    font-size: 18px;
    font-weight: 700;
    letter-spacing: 0.15em;
    color: var(--accent);
    text-transform: uppercase;
    text-decoration: none;
    white-space: nowrap;
}

.logo span {
    color: var(--text3);
    font-weight: 400;
}

.header-stats {
    font-size: 11px;
    color: var(--text3);
    letter-spacing: 0.05em;
    white-space: nowrap;
}

.header-stats b {
    color: var(--text2);
}


/* ================================================================
 *  COVERS TOGGLE
 *  ================================================================ */

.covers-toggle {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 11px;
    color: var(--text2);
    letter-spacing: 0.05em;
    cursor: pointer;
    user-select: none;
}

.toggle-track {
    width: 36px;
    height: 20px;
    background: var(--bg3);
    border: 1px solid var(--border2);
    border-radius: 10px;
    position: relative;
    transition: all 0.2s;
    cursor: pointer;
}

.toggle-track.on {
    background: var(--accent2);
    border-color: var(--accent);
}

.toggle-thumb {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 12px;
    height: 12px;
    background: var(--text3);
    border-radius: 50%;
    transition: all 0.2s;
}

.toggle-track.on .toggle-thumb {
    left: 19px;
    background: var(--accent);
}


/* ================================================================
 *  CONTROLS BAR
 *  ================================================================ */

.controls {
    padding: 10px 20px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
}

.search-wrap {
    flex: 1;
    min-width: 200px;
    max-width: 380px;
    position: relative;
}

.search-wrap::before {
    content: '⌕';
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text3);
    font-size: 16px;
    pointer-events: none;
}

input[type="search"],
select {
    background: var(--bg2);
    border: 1px solid var(--border);
    color: var(--text);
    font-family: var(--mono);
    font-size: 12px;
    border-radius: 4px;
    outline: none;
    transition: border-color 0.15s;
}

input[type="search"] {
    width: 100%;
    padding: 7px 10px 7px 30px;
}

input[type="search"]:focus,
select:focus {
    border-color: var(--accent);
}

select {
    padding: 7px 10px;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 10 6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%23555560'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 8px center;
    padding-right: 24px;
}

/* -- Classification filters -- */
.class-filters {
    display: flex;
    gap: 6px;
    align-items: center;
}

.class-btn {
    padding: 4px 10px;
    border: 1px solid var(--border);
    background: var(--bg2);
    color: var(--text2);
    font-family: var(--mono);
    font-size: 10px;
    border-radius: 2px;
    cursor: pointer;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    transition: all 0.12s;
}

.class-btn:hover              { border-color: var(--accent); color: var(--text); }
.class-btn.active-free        { background: rgba(61,196,122,0.1);  border-color: var(--free);   color: var(--free); }
.class-btn.active-nyp         { background: rgba(93,228,199,0.1);  border-color: var(--nyp);    color: var(--nyp); }
.class-btn.active-paid        { background: rgba(212,168,67,0.12); border-color: var(--paid);   color: var(--paid); }

/* -- View buttons -- */
.view-btns {
    display: flex;
    border: 1px solid var(--border);
    border-radius: 4px;
    overflow: hidden;
}

.view-btn {
    background: var(--bg2);
    border: none;
    color: var(--text3);
    padding: 7px 12px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.15s;
    border-right: 1px solid var(--border);
}

.view-btn:last-child  { border-right: none; }
.view-btn:hover       { color: var(--text); background: var(--bg3); }
.view-btn.active      { color: var(--accent); background: var(--accent3); }


/* ================================================================
 *  TAGS BAR
 *  ================================================================ */

.tags-bar {
    padding: 8px 20px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    align-items: center;
    max-height: 80px;
    overflow-y: auto;
}

.tags-label {
    font-size: 10px;
    color: var(--text3);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    white-space: nowrap;
    padding-right: 4px;
}

.tag-chip {
    background: var(--bg2);
    border: 1px solid var(--border);
    color: var(--text2);
    font-family: var(--mono);
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.12s;
    white-space: nowrap;
    letter-spacing: 0.03em;
}

.tag-chip:hover  { border-color: var(--accent); color: var(--accent); }
.tag-chip.active { background: var(--accent3); border-color: var(--accent); color: var(--accent); }


/* ================================================================
 *  ARTIST JUMP BAR
 *  ================================================================ */

#jump-bar {
padding: 6px 20px;
border-top: 1px solid var(--border);
display: flex;
gap: 4px;
flex-wrap: wrap;
align-items: center;
}

.jump-label {
    font-size: 10px;
    color: var(--text3);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    margin-right: 4px;
}

.jump-link {
    font-size: 10px;
    color: var(--text3);
    text-decoration: none;
    padding: 2px 5px;
    border: 1px solid transparent;
    border-radius: 2px;
    transition: all 0.1s;
    white-space: nowrap;
}

.jump-link:hover {
    color: var(--accent);
    border-color: var(--border);
}


/* ================================================================
 *  MAIN CONTENT
 *  ================================================================ */

#main {
padding: 20px;
max-width: 1600px;
margin: 0 auto;
}


/* ================================================================
 *  ARTIST SECTIONS (by-artist view)
 *  ================================================================ */

.artist-section {
    margin-bottom: 32px;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
}

.artist-header {
    display: flex;
    align-items: baseline;
    gap: 12px;
    padding: 10px 0 8px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 14px;
    cursor: pointer;
    user-select: none;
}

.artist-name {
    font-family: var(--display);
    font-size: 14px;
    font-weight: 700;
    color: var(--text);
    letter-spacing: 0.05em;
}

.artist-count {
    font-size: 10px;
    color: var(--text3);
    letter-spacing: 0.05em;
}

.artist-collapse-icon {
    margin-left: auto;
    color: var(--text3);
    font-size: 11px;
    transition: transform 0.2s;
}

.artist-section.collapsed .artist-collapse-icon {
    transform: rotate(-90deg);
}

.artist-section.collapsed .artist-releases {
    display: none;
}


/* ================================================================
 *  RELEASE GRIDS
 *  ================================================================ */

.artist-releases {
    display: grid;
    gap: 10px;
}

.artist-releases.grid-view {
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
}

.artist-releases.list-view {
    grid-template-columns: 1fr;
}


/* ================================================================
 *  RELEASE CARD
 *  ================================================================ */

.release-card {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-radius: 4px;
    overflow: hidden;
    transition: border-color 0.15s, transform 0.15s;
    display: flex;
    flex-direction: column;
    position: relative;
}

.release-card:hover {
    border-color: var(--border2);
    transform: translateY(-1px);
}

/* List-mode card layout */
.artist-releases.list-view .release-card {
    flex-direction: row;
    align-items: stretch;
}

/* -- Cover -- */
.cover-wrap {
    flex-shrink: 0;
    position: relative;
    background: var(--bg3);
    overflow: hidden;
}

.grid-view .cover-wrap {
    aspect-ratio: 1;
    width: 100%;
}

.list-view .cover-wrap {
    width: 80px;
    height: 80px;
}

.cover-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 0.3s;
}

.cover-img.loaded { opacity: 1; }

.cover-placeholder {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg3);
}

.cover-no-art {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    padding: 8px;
}

.cover-grid-pattern {
    width: 32px;
    height: 32px;
    opacity: 0.15;
}

/* -- Card body -- */
.card-body {
    padding: 10px 12px 12px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
    min-width: 0;
}

.list-view .card-body {
    padding: 8px 12px;
    justify-content: center;
}

.release-title {
    font-size: 12px;
    font-weight: 500;
    color: var(--text);
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.list-view .release-title {
    -webkit-line-clamp: 1;
}

.release-artist {
    font-size: 11px;
    color: var(--text2);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-style: italic;
}

.release-label {
    font-size: 10px;
    color: var(--text3);
    font-style: italic;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.release-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 4px;
    flex-wrap: wrap;
}

/* -- Classification badges -- */
.classification-badge {
    font-size: 9px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    padding: 2px 6px;
    border-radius: 1px;
    font-weight: 600;
}

.badge-free { background: rgba(61,196,122,0.15);  color: var(--free); border: 1px solid rgba(61,196,122,0.3);  }
.badge-nyp  { background: rgba(93,228,199,0.1);   color: var(--nyp);  border: 1px solid rgba(93,228,199,0.25); }
.badge-paid { background: rgba(212,168,67,0.12);  color: var(--paid); border: 1px solid rgba(212,168,67,0.3);  }

.release-date {
    font-size: 10px;
    color: var(--text3);
}

.track-count {
    font-size: 10px;
    color: var(--text3);
    margin-left: auto;
}

/* -- Tag chips on cards -- */
.release-tags {
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
    margin-top: 6px;
}

.list-view .release-tags { margin-top: 4px; }

.release-tag {
    font-size: 9px;
    color: var(--text3);
    background: var(--bg3);
    border: 1px solid var(--border);
    padding: 1px 5px;
    border-radius: 1px;
    cursor: pointer;
    transition: all 0.1s;
}

.release-tag:hover {
    color: var(--accent);
    border-color: var(--accent);
}

/* Card-link covers the cover image area only — the card body has
 i ts own interactive elements (status badge, BC link, tags, history) */                                                                 *
 .card-link {
     position: absolute;
     top: 0;
     left: 0;
     z-index: 1;
 }

 /* In grid view: cover is full-width on top */
 .grid-view .card-link {
     right: 0;
     height: 0;
     padding-bottom: 100%; /* matches aspect-ratio:1 cover */
 }

 /* In list view: cover is 80px wide on the left */
 .list-view .card-link {
     width: 80px;
     bottom: 0;
 }

 /* Body elements that need to be clickable sit above z-index:1 */
 .card-body {
     position: relative;
     z-index: 2;
 }

 /* Interactive elements within body */
 .release-tag,
.bc-link,
.status-badge,
.history-toggle,
.history-ia-link,
.release-history {
    position: relative;
    z-index: 3;
}


/* ================================================================
 *  NO-COVERS MODE
 *  ================================================================ */

body.no-covers .cover-wrap                    { display: none; }
body.no-covers .list-view .card-body          { padding-left: 12px; }


/* ================================================================
 *  LOADING
 *  ================================================================ */

#loading {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
gap: 16px;
padding: 80px 20px;
color: var(--text2);
}

.loader-bar {
    width: 200px;
    height: 2px;
    background: var(--bg3);
    border-radius: 1px;
    overflow: hidden;
}

.loader-fill {
    height: 100%;
    background: var(--accent);
    width: 0%;
    transition: width 0.2s;
    border-radius: 1px;
}

.loader-text {
    font-size: 11px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text3);
}


/* ================================================================
 *  EMPTY STATE & LOAD MORE
 *  ================================================================ */

#empty {
text-align: center;
padding: 60px 20px;
color: var(--text3);
font-size: 12px;
display: none;
}

#load-more-wrap {
text-align: center;
padding: 24px;
}

.load-more-btn {
    background: var(--bg2);
    border: 1px solid var(--border2);
    color: var(--text2);
    font-family: var(--mono);
    font-size: 11px;
    padding: 10px 24px;
    border-radius: 3px;
    cursor: pointer;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    transition: all 0.15s;
}

.load-more-btn:hover {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent3);
}


/* ================================================================
 *  RESPONSIVE
 *  ================================================================ */

@media (max-width: 600px) {
    .header-top  { padding: 10px 14px; }
    .controls    { padding: 8px 14px; }
    .tags-bar    { padding: 6px 14px; }
    #jump-bar    { padding: 6px 14px; }
    #main        { padding: 14px; }
    .logo        { font-size: 14px; }

    .grid-view .cover-wrap { aspect-ratio: 1; }
}


/* ================================================================
 *  PIPELINE STATUS BADGES
 *  ================================================================ */

.status-badge {
    display: inline-flex;
    align-items: center;
    font-size: 9px;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 2px;
    white-space: nowrap;
    text-decoration: none;
    cursor: default;
}

/* Archived: green, links to archive.org */
.status-archived {
    background: rgba(61, 196, 122, 0.12);
    color: var(--free);
    border: 1px solid rgba(61, 196, 122, 0.3);
    cursor: pointer;
    transition: background 0.15s, border-color 0.15s;
}
.status-archived:hover {
    background: rgba(61, 196, 122, 0.22);
    border-color: var(--free);
}

/* Queued: orange — archived but not yet uploaded */
.status-queued {
    background: rgba(212, 140, 40, 0.12);
    color: #d48c28;
    border: 1px solid rgba(212, 140, 40, 0.3);
}

/* Pending: muted — not yet crawled */
.status-pending {
    background: transparent;
    color: var(--text3);
    border: 1px solid var(--border);
}

/* Release card subtle left-border accent by status */
.release-card[data-status="archived"] { border-left: 2px solid rgba(61,196,122,0.35); }
.release-card[data-status="queued"]   { border-left: 2px solid rgba(212,140,40,0.45); }
.release-card[data-status="pending"]  { border-left: 2px solid var(--border); }


/* ================================================================
 *  BANDCAMP SECONDARY LINK
 *  ================================================================ */

.bc-link {
    font-size: 9px;
    color: var(--text3);
    text-decoration: none;
    letter-spacing: 0.06em;
    padding: 2px 5px;
    border: 1px solid transparent;
    border-radius: 2px;
    transition: all 0.12s;
    margin-left: auto;
    white-space: nowrap;
    flex-shrink: 0;
}
.bc-link:hover {
    color: var(--accent);
    border-color: var(--border2);
}


/* ================================================================
 *  HISTORY / VERSIONS
 *  ================================================================ */

.release-history {
    margin-top: 6px;
    border-top: 1px solid var(--border);
    padding-top: 4px;
}

.history-toggle {
    font-size: 9px;
    color: var(--text3);
    letter-spacing: 0.06em;
    cursor: pointer;
    user-select: none;
    list-style: none;
    padding: 2px 0;
    transition: color 0.12s;
}
.history-toggle:hover { color: var(--text2); }
.history-toggle::-webkit-details-marker { display: none; }

.history-list {
    margin-top: 6px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.history-entry {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding: 5px 7px;
    background: var(--bg3);
    border: 1px solid var(--border);
    border-radius: 2px;
    font-size: 9px;
}

.history-date {
    color: var(--text3);
    font-size: 9px;
    letter-spacing: 0.04em;
    margin-bottom: 1px;
}

.history-ia-link {
    color: var(--free);
    text-decoration: none;
    font-size: 9px;
    word-break: break-all;
    transition: opacity 0.1s;
}
.history-ia-link:hover { opacity: 0.8; text-decoration: underline; }

.history-no-ia {
    color: var(--text3);
    font-size: 9px;
    font-style: italic;
}

.history-fields {
    color: var(--text2);
    font-size: 9px;
    margin-top: 2px;
    line-height: 1.5;
}

.history-field-key {
    color: var(--text3);
}
.history-field-val {
    color: var(--text2);
}


/* ================================================================
 *  STATS BAR COLOURED COUNTS
 *  ================================================================ */

.stat-archived { color: var(--free); }
.stat-queued   { color: #d48c28; }
.stat-pending  { color: var(--text3); }


/* ================================================================
 *  STATUS FILTER BUTTONS (controls bar)
 *  ================================================================ */

.status-filter-btn {
    padding: 4px 10px;
    border: 1px solid var(--border);
    background: var(--bg2);
    color: var(--text2);
    font-family: var(--mono);
    font-size: 10px;
    border-radius: 2px;
    cursor: pointer;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    transition: all 0.12s;
}
.status-filter-btn:hover { border-color: var(--accent); color: var(--text); }
.status-filter-btn[data-status="archived"].active { background: rgba(61,196,122,0.1);  border-color: var(--free);  color: var(--free); }
.status-filter-btn[data-status="queued"].active   { background: rgba(212,140,40,0.1);  border-color: #d48c28;      color: #d48c28; }
.status-filter-btn[data-status="pending"].active  { background: rgba(100,100,110,0.12); border-color: var(--text3); color: var(--text2); }
